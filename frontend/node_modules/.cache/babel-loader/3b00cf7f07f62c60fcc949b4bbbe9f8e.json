{"ast":null,"code":"var _jsxFileName = \"/home/admin-dci/\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B/DCI/backend/2022-04-21/frontend/src/components/TaskContainer.js\",\n    _s = $RefreshSig$();\n\nimport TaskList from \"./TaskList\";\nimport { useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst TaskContainer = () => {\n  _s();\n\n  useEffect(() => {\n    const tasksContainer = document.querySelector('.tasks-container');\n    const tasksLists = tasksContainer.querySelectorAll('.tasks__list');\n    const tasksElements = tasksContainer.querySelectorAll('.tasks__item');\n\n    for (const task of tasksElements) {\n      task.draggable = true;\n    }\n\n    for (const tasksList of tasksLists) {\n      tasksList.addEventListener('dragstart', e => {\n        e.target.classList.add('selected');\n      });\n      tasksList.addEventListener('dragend', e => {\n        e.target.classList.remove('selected');\n      });\n      tasksList.addEventListener('dragover', e => {\n        e.preventDefault();\n        const activeElement = tasksContainer.querySelector(`.selected`);\n        const currentElement = e.target;\n        const isMoveable = activeElement !== currentElement && currentElement.classList.contains('tasks__item');\n\n        if (!isMoveable) {\n          return;\n        }\n\n        const nextElement = currentElement === activeElement.nextElementSibling ? currentElement.nextElementSibling : currentElement;\n        tasksList.insertBefore(activeElement, nextElement);\n      });\n    }\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: \"tasks-container\",\n    children: [/*#__PURE__*/_jsxDEV(TaskList, {\n      status: 'backlog'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(TaskList, {\n      status: 'in-process'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(TaskList, {\n      status: 'ready'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(TaskList, {\n      status: 'remove'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 5\n  }, this);\n};\n\n_s(TaskContainer, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n\n_c = TaskContainer;\nexport default TaskContainer;\n\nvar _c;\n\n$RefreshReg$(_c, \"TaskContainer\");","map":{"version":3,"sources":["/home/admin-dci/Рабочий стол/DCI/backend/2022-04-21/frontend/src/components/TaskContainer.js"],"names":["TaskList","useEffect","TaskContainer","tasksContainer","document","querySelector","tasksLists","querySelectorAll","tasksElements","task","draggable","tasksList","addEventListener","e","target","classList","add","remove","preventDefault","activeElement","currentElement","isMoveable","contains","nextElement","nextElementSibling","insertBefore"],"mappings":";;;AAAA,OAAOA,QAAP,MAAqB,YAArB;AACA,SAAQC,SAAR,QAAwB,OAAxB;;;AAEA,MAAMC,aAAa,GAAG,MAAM;AAAA;;AAE3BD,EAAAA,SAAS,CAAC,MAAM;AACf,UAAME,cAAc,GAAGC,QAAQ,CAACC,aAAT,CAAuB,kBAAvB,CAAvB;AACA,UAAMC,UAAU,GAAGH,cAAc,CAACI,gBAAf,CAAgC,cAAhC,CAAnB;AACA,UAAMC,aAAa,GAAGL,cAAc,CAACI,gBAAf,CAAgC,cAAhC,CAAtB;;AAEA,SAAI,MAAME,IAAV,IAAkBD,aAAlB,EAAiC;AAChCC,MAAAA,IAAI,CAACC,SAAL,GAAiB,IAAjB;AACA;;AAED,SAAK,MAAMC,SAAX,IAAwBL,UAAxB,EAAoC;AACnCK,MAAAA,SAAS,CAACC,gBAAV,CAA2B,WAA3B,EAAyCC,CAAD,IAAO;AAC9CA,QAAAA,CAAC,CAACC,MAAF,CAASC,SAAT,CAAmBC,GAAnB,CAAuB,UAAvB;AACA,OAFD;AAGAL,MAAAA,SAAS,CAACC,gBAAV,CAA2B,SAA3B,EAAuCC,CAAD,IAAO;AAC5CA,QAAAA,CAAC,CAACC,MAAF,CAASC,SAAT,CAAmBE,MAAnB,CAA0B,UAA1B;AACA,OAFD;AAGAN,MAAAA,SAAS,CAACC,gBAAV,CAA2B,UAA3B,EAAwCC,CAAD,IAAO;AAC7CA,QAAAA,CAAC,CAACK,cAAF;AACA,cAAMC,aAAa,GAAGhB,cAAc,CAACE,aAAf,CAA8B,WAA9B,CAAtB;AACA,cAAMe,cAAc,GAAGP,CAAC,CAACC,MAAzB;AAEA,cAAMO,UAAU,GAAGF,aAAa,KAAKC,cAAlB,IAClBA,cAAc,CAACL,SAAf,CAAyBO,QAAzB,CAAkC,aAAlC,CADD;;AAGA,YAAI,CAACD,UAAL,EAAiB;AAChB;AACA;;AACD,cAAME,WAAW,GAAIH,cAAc,KAAKD,aAAa,CAACK,kBAAlC,GAA4DJ,cAAc,CAACI,kBAA3E,GAAgGJ,cAApH;AACAT,QAAAA,SAAS,CAACc,YAAV,CAAuBN,aAAvB,EAAsCI,WAAtC;AACA,OAbD;AAcA;AAGD,GAjCQ,EAiCN,EAjCM,CAAT;AAmCC,sBACE;AAAS,IAAA,SAAS,EAAC,iBAAnB;AAAA,4BACE,QAAC,QAAD;AAAU,MAAA,MAAM,EAAE;AAAlB;AAAA;AAAA;AAAA;AAAA,YADF,eAEE,QAAC,QAAD;AAAU,MAAA,MAAM,EAAE;AAAlB;AAAA;AAAA;AAAA;AAAA,YAFF,eAGE,QAAC,QAAD;AAAU,MAAA,MAAM,EAAE;AAAlB;AAAA;AAAA;AAAA;AAAA,YAHF,eAIE,QAAC,QAAD;AAAU,MAAA,MAAM,EAAE;AAAlB;AAAA;AAAA;AAAA;AAAA,YAJF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAQD,CA7CD;;GAAMrB,a;;KAAAA,a;AA+CN,eAAeA,aAAf","sourcesContent":["import TaskList from \"./TaskList\";\nimport {useEffect} from 'react';\n\nconst TaskContainer = () => {\n\n\tuseEffect(() => {\n\t\tconst tasksContainer = document.querySelector('.tasks-container');\n\t\tconst tasksLists = tasksContainer.querySelectorAll('.tasks__list');\n\t\tconst tasksElements = tasksContainer.querySelectorAll('.tasks__item');\n\n\t\tfor(const task of tasksElements) {\n\t\t\ttask.draggable = true;\n\t\t}\n\n\t\tfor (const tasksList of tasksLists) {\n\t\t\ttasksList.addEventListener('dragstart', (e) => {\n\t\t\t\te.target.classList.add('selected');\n\t\t\t})\n\t\t\ttasksList.addEventListener('dragend', (e) => {\n\t\t\t\te.target.classList.remove('selected');\n\t\t\t})\n\t\t\ttasksList.addEventListener('dragover', (e) => {\n\t\t\t\te.preventDefault();\n\t\t\t\tconst activeElement = tasksContainer.querySelector(`.selected`);\n\t\t\t\tconst currentElement = e.target;\n\t\t\t\t\n\t\t\t\tconst isMoveable = activeElement !== currentElement &&\n\t\t\t\t\tcurrentElement.classList.contains('tasks__item');\n\t\n\t\t\t\tif (!isMoveable) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tconst nextElement = (currentElement === activeElement.nextElementSibling) ? \t\t\t\tcurrentElement.nextElementSibling : currentElement;\n\t\t\t\ttasksList.insertBefore(activeElement, nextElement);\n\t\t\t})\n\t\t}\n\n\t\t\n\t}, [])\n\n  return(\n    <section className=\"tasks-container\">\n      <TaskList status={'backlog'} />\n      <TaskList status={'in-process'}/>\n      <TaskList status={'ready'}/>\n      <TaskList status={'remove'}/>\n    </section>\n  )\n}\n\nexport default TaskContainer;"]},"metadata":{},"sourceType":"module"}